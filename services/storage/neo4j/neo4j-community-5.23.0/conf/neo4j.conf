# Neo4j Configuration for AI Server
# Optimized for ARM64 macOS with memory management

# Server configuration
server.default_listen_address=localhost
server.bolt.listen_address=localhost:7687
server.http.listen_address=localhost:7474
server.https.enabled=false

# Memory configuration (15% heap + 10% page cache of total RAM)
server.memory.heap.initial_size=19g
server.memory.heap.max_size=19g
server.memory.pagecache.size=13g

# JVM optimizations for ARM64
server.jvm.additional=-XX:+UseG1GC
server.jvm.additional=-XX:+UnlockExperimentalVMOptions
server.jvm.additional=-XX:+UseTransparentHugePages
server.jvm.additional=-Dfile.encoding=UTF-8

# Data directories
server.directories.data=/Users/server/Code/AI-projects/AI-server/services/storage/neo4j/data
server.directories.logs=/Users/server/Code/AI-projects/AI-server/services/storage/neo4j/data/logs
server.directories.transaction.logs.root=/Users/server/Code/AI-projects/AI-server/services/storage/neo4j/data/transactions

# Database tuning
db.checkpoint.interval.time=30m
db.checkpoint.interval.tx=100000
db.recovery.fail_on_missing_files=false

# Security
dbms.security.auth_enabled=true

# Logging
dbms.logs.gc.enabled=true
dbms.logs.debug.level=INFO

# Performance
db.tx_log.rotation.retention_policy=7 days 1G
